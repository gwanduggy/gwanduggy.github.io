{"ast":null,"code":"import React,{useState,useCallback}from'react';import Button from'@mui/material/Button';import Container from'@mui/material/Container';import Typography from'@mui/material/Typography';import TextField from'@mui/material/TextField';import{DataGrid}from'@mui/x-data-grid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const appDef={id:'pokemon',label:'Pokemon',component:Pokemon};export default appDef;/**\r\n * Pokemon\r\n */function Pokemon(params){const[isFetching,setIsFetching]=useState(false);/**\r\n   * The name of the pokemon to retrieve\r\n   */const[pokemon,setPokemon]=useState('pikachu');const[data,setData]=useState(null);console.log('Data',data);//\n// Callbacks\n//\nconst fetchPokemon=useCallback(async()=>{if(!isFetching){setIsFetching(true);try{const response=await fetch(\"https://pokeapi.co/api/v2/pokemon/\"+pokemon);const data=await response.json();console.log('Setting data',data);setData(data);const audio=new Audio(data.cries.latest);audio.play();}finally{setIsFetching(false);}}},[isFetching,pokemon]);const columns=[{field:'name',headerName:'Stat',width:200},{field:'base_stat',headerName:'Base Stat'},{field:'effort',headerName:'Effort'}];return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",color:\"inherit\",component:\"div\",children:\"Pokemon\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:fetchPokemon,children:\"Get Pokemon\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",label:\"Pokemon Name\",value:pokemon,onChange:ev=>setPokemon(ev.target.value),variant:\"standard\"})}),/*#__PURE__*/_jsx(\"hr\",{}),data?/*#__PURE__*/_jsxs(\"div\",{children:[Object.entries(data.sprites).filter(_ref=>{let[k,v]=_ref;return typeof v==='string';}).map(_ref2=>{let[sprite,url]=_ref2;return/*#__PURE__*/_jsx(\"img\",{src:url,width:\"200\",alt:sprite});}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(TextField,{InputProps:{readOnly:true},label:\"Name\",value:data.name}),/*#__PURE__*/_jsx(TextField,{InputProps:{readOnly:true},label:\"Base Experience\",value:data.base_experience}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",color:\"inherit\",component:\"div\",children:\"Stats\"}),/*#__PURE__*/_jsx(DataGrid,{rows:data.stats.map((it,index)=>{const{base_stat,effort,stat}=it;const{name}=stat;return{id:index,name,base_stat,effort};}),columns:columns,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,10]}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",color:\"inherit\",component:\"div\",children:\"Moves\"}),/*#__PURE__*/_jsx(DataGrid,{rows:data.moves.map((it,index)=>{const{move,version_group_details}=it;const{name}=move;return{id:index,name,version_group_details:version_group_details.map(vgd=>\"[\".concat(vgd.version_group.name,\"] Level \").concat(vgd.level_learned_at)).join('; ')};}),columns:[{field:'name',headerName:'Move',width:200},{field:'version_group_details',headerName:'Version/Group Details',width:800}],initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10]})]}):null]});}// END Pokemon","map":{"version":3,"names":["React","useState","useCallback","Button","Container","Typography","TextField","DataGrid","jsx","_jsx","jsxs","_jsxs","appDef","id","label","component","Pokemon","params","isFetching","setIsFetching","pokemon","setPokemon","data","setData","console","log","fetchPokemon","response","fetch","json","audio","Audio","cries","latest","play","columns","field","headerName","width","children","variant","color","onClick","value","onChange","ev","target","Object","entries","sprites","filter","_ref","k","v","map","_ref2","sprite","url","src","alt","InputProps","readOnly","name","base_experience","rows","stats","it","index","base_stat","effort","stat","initialState","pagination","paginationModel","page","pageSize","pageSizeOptions","moves","move","version_group_details","vgd","concat","version_group","level_learned_at","join"],"sources":["D:/Users/Joshua/GitHub/pub-001/react-01/src/app/apps/pokemon/Pokemon.tsx"],"sourcesContent":["import React, { ChangeEvent, useState, useEffect, useCallback } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Container from '@mui/material/Container';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextField from '@mui/material/TextField';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\n\r\nimport { AppDef, AppParams } from '../apps';\r\nimport { version } from 'os';\r\n\r\n\r\ntype DataType = {\r\n  name: string,\r\n  base_experience: number,\r\n  moves: Array< {\r\n    move : {\r\n      name: string,\r\n    },\r\n    version_group_details: Array<{\r\n      level_learned_at: number,\r\n      move_learn_method: { name: string },\r\n      version_group: { name: string }\r\n    }>,\r\n  } >,\r\n  sprites: { [key: string]: string },\r\n  stats: Array< {\r\n    base_stat: number,\r\n    effort: number,\r\n    stat: {\r\n      name: string,\r\n      url: string,\r\n    }\r\n  } >,\r\n}\r\n\r\nconst appDef: AppDef = {\r\n    id: 'pokemon',\r\n    label: 'Pokemon',\r\n    component: Pokemon,\r\n}\r\nexport default appDef;\r\n\r\n/**\r\n * Pokemon\r\n */\r\nfunction Pokemon( params: AppParams ) {\r\n\r\n  const [ isFetching, setIsFetching ] = useState<boolean>(false);\r\n\r\n  /**\r\n   * The name of the pokemon to retrieve\r\n   */\r\n  const [ pokemon, setPokemon ] = useState<string>('pikachu');\r\n\r\n  const [ data, setData ] = useState<DataType|null>(null);\r\n\r\n  console.log( 'Data', data );\r\n\r\n  //\r\n  // Callbacks\r\n  //\r\n\r\n  const fetchPokemon = useCallback( async () => {\r\n    if ( ! isFetching ) {\r\n      setIsFetching( true );\r\n      try {\r\n        const response = await fetch (\"https://pokeapi.co/api/v2/pokemon/\" + pokemon );\r\n        const data = await response.json();\r\n\r\n        console.log( 'Setting data', data );\r\n        setData( data );\r\n\r\n        const audio = new Audio( data.cries.latest );\r\n        audio.play();\r\n\r\n      } finally {\r\n        setIsFetching( false );\r\n      }\r\n    }\r\n  }, [ isFetching, pokemon ]);\r\n\r\n  const columns = [\r\n    { field: 'name', headerName: 'Stat', width: 200 },\r\n    { field: 'base_stat', headerName: 'Base Stat' },\r\n    { field: 'effort', headerName: 'Effort' },\r\n  ];\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h2\" color=\"inherit\" component=\"div\">\r\n      Pokemon\r\n      </Typography>\r\n      <Button variant='contained' onClick={ fetchPokemon }>Get Pokemon</Button>\r\n\r\n      <hr/>\r\n\r\n      <div>\r\n        <TextField id=\"standard-basic\" label=\"Pokemon Name\" value={pokemon} onChange={ ev => setPokemon( ev.target.value) } variant=\"standard\" />\r\n      </div>\r\n    \r\n      <hr/>\r\n      { data ? <div>\r\n        {\r\n          Object.entries( data.sprites ).filter( ([k,v]) => typeof v === 'string' ).map( ([sprite,url]) => \r\n            <img src={url} width=\"200\" alt={sprite}/>\r\n          )\r\n        }\r\n        <p/>\r\n        <TextField InputProps={{ readOnly: true, }} label=\"Name\" value={data.name} />\r\n        <TextField InputProps={{ readOnly: true, }} label=\"Base Experience\" value={data.base_experience} />\r\n        <Typography variant=\"h3\" color=\"inherit\" component=\"div\">Stats</Typography>\r\n        <DataGrid\r\n          rows={data.stats.map( (it,index) => {\r\n            const { base_stat, effort, stat } = it;\r\n            const { name } = stat;\r\n            return {\r\n              id: index,\r\n              name,\r\n              base_stat,\r\n              effort,\r\n            };\r\n          } )}\r\n          columns={columns}\r\n          initialState={{\r\n            pagination: {\r\n              paginationModel: { page: 0, pageSize: 10 },\r\n            },\r\n          }}\r\n          pageSizeOptions={[10, 10]}\r\n        />\r\n        <Typography variant=\"h3\" color=\"inherit\" component=\"div\">Moves</Typography>\r\n        <DataGrid\r\n          rows={data.moves.map( (it,index) => {\r\n            const { move, version_group_details } = it;\r\n            const { name } = move;\r\n            return {\r\n              id: index,\r\n              name,\r\n              version_group_details: version_group_details.map( vgd =>\r\n                `[${vgd.version_group.name}] Level ${vgd.level_learned_at}`\r\n              ).join( '; ' )\r\n            };\r\n          } )}\r\n          columns={[\r\n            { field: 'name', headerName: 'Move', width: 200 },\r\n            { field: 'version_group_details', headerName: 'Version/Group Details', width: 800 },\r\n          ]}\r\n          initialState={{\r\n            pagination: {\r\n              paginationModel: { page: 0, pageSize: 5 },\r\n            },\r\n          }}\r\n          pageSizeOptions={[5, 10]}\r\n        />\r\n      </div> : null\r\n      }\r\n    </Container>\r\n  );\r\n} // END Pokemon\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}